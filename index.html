<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<title>â€¢</title>
<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:#000;
  cursor:none;
}
canvas{display:block;}
</style>
</head>
<body>

<canvas id="c"></canvas>

<script>
const c = document.getElementById("c");
const ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;

let mouse = {x:c.width/2, y:c.height/2};
const particles = [];
const COUNT = 2000;

class Particle{
  constructor(){
    this.x = Math.random()*c.width;
    this.y = Math.random()*c.height;
    this.vx = 0;
    this.vy = 0;
    this.size = Math.random()*1.2 + 0.2;
  }
  update(){
    let dx = mouse.x - this.x;
    let dy = mouse.y - this.y;
    let dist = Math.sqrt(dx*dx + dy*dy) + 0.1;

    let force = Math.min(0.4, 30/dist);
    this.vx += dx/dist * force;
    this.vy += dy/dist * force;

    this.vx *= 0.96;
    this.vy *= 0.96;

    this.x += this.vx;
    this.y += this.vy;

    if(this.x<0||this.x>c.width||this.y<0||this.y>c.height){
      this.x = Math.random()*c.width;
      this.y = Math.random()*c.height;
    }
  }
  draw(){
    ctx.beginPath();
    ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
    ctx.fillStyle="rgba(255,255,255,0.6)";
    ctx.fill();
  }
}

for(let i=0;i<COUNT;i++) particles.push(new Particle());

addEventListener("mousemove",e=>{
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});

addEventListener("resize",()=>{
  c.width = innerWidth;
  c.height = innerHeight;
});

function loop(){
  ctx.fillStyle="rgba(0,0,0,0.15)";
  ctx.fillRect(0,0,c.width,c.height);

  particles.forEach(p=>{
    p.update();
    p.draw();
  });

  requestAnimationFrame(loop);
}

loop();
</script>

</body>
</html>
