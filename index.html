<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<title>Rainbow Smoke – Black</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #000; /* SVART BAKGRUND */
  cursor: none;
}
canvas {
  display: block;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();

let lastX = canvas.width / 2;
let lastY = canvas.height / 2;
let hue = 0;

function draw(x, y){
  const dx = x - lastX;
  const dy = y - lastY;
  const dist = Math.sqrt(dx*dx + dy*dy);

  ctx.lineWidth = dist * 0.6 + 4;
  ctx.lineCap = "round";

  ctx.strokeStyle = `hsla(${hue}, 100%, 60%, 0.25)`;
  ctx.shadowBlur = 40;
  ctx.shadowColor = `hsla(${hue}, 100%, 60%, 1)`;

  ctx.beginPath();
  ctx.moveTo(lastX, lastY);
  ctx.lineTo(x, y);
  ctx.stroke();

  lastX = x;
  lastY = y;
  hue += 1.5;
}

function fade(){
  // Mjuk svart fade → rök-effekt
  ctx.fillStyle = "rgba(0, 0, 0, 0.08)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  requestAnimationFrame(fade);
}

addEventListener("mousemove", e => {
  draw(e.clientX, e.clientY);
});

addEventListener("resize", resize);

fade();
</script>

</body>
</html>
